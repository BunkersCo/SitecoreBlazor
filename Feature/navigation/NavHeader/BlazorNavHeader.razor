@using Foundation.BlazorExtensions.Extensions

@using Microsoft.JSInterop

@implements Microsoft.AspNetCore.Components.IComponent

@inject SitecoreBlazorHosted.Shared.PoorManSessionState _poorManSessionState
@inject IUriHelper _uriHelper


@if (string.IsNullOrWhiteSpace(CurrentLanguage))
{
    <em>Loading...</em>
}
else
{
    <a class="navbar-brand" href="@CurrentLanguage.WithBaseUrl_UglyHackForGithub(_uriHelper)">@FieldsModel.PlainText("NavHeader").Value.HtmlDecode()</a>
}

@functions {

    [Parameter]
    List<SitecoreBlazorHosted.Shared.Models.IBlazorSitecoreField> FieldsModel { get; set; }

    private string CurrentLanguage { get; set; }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();

        CurrentLanguage = _poorManSessionState.Language;
    }


}
